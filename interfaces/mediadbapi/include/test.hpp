#include <Poco/NotificationCenter.h>#include <Poco/Notification.h>#include <Poco/Observer.h>#include <Poco/NObserver.h>#include <Poco/AutoPtr.h>#include <iostream>using Poco::NotificationCenter;using Poco::Notification;using Poco::Observer;using Poco::NObserver;using Poco::AutoPtr;class BaseNotification:public Notification{public:    BaseNotification(){        std::cout<<"construct BaseNotification"<<std::endl;    }    ~BaseNotification(){        std::cout<<"destruct BaseNotification"<<std::endl;    }};class SubNotification:public BaseNotification{public:    SubNotification(){        std::cout<<"construct SubNotification"<<std::endl;    }    ~SubNotification(){        std::cout<<"destruct SubNotification"<<std::endl;    }};class Target{public:    void handleBase(BaseNotification* pNf){        std::cout<<"handleBase: "<<pNf->name()<<std::endl;        pNf->release();    }    void handleSub(const AutoPtr<SubNotification>& pNf){        std::cout<<"handleSub: "<<pNf->name()<<std::endl;    }};int main(int argc,char** argv){    NotificationCenter nc;    Target target;    nc.addObserver(        Observer<Target,BaseNotification>(target,&Target::handleBase)    );    nc.addObserver(        NObserver<Target,SubNotification>(target,&Target::handleSub)    );    nc.postNotification(new BaseNotification);    nc.postNotification(new SubNotification);    nc.removeObserver(        Observer<Target,BaseNotification>(target,&Target::handleBase)    );    nc.removeObserver(        NObserver<Target,SubNotification>(target,&Target::handleSub)    );    return 0;}